# Email Notification Api
This project is a web service developed using FastAPI as a backend framework and PostgreSQL as a database management system. Also, a scheduler was developed to make the application fully functional. The scheduler also uses FastAPI, but MongoDB was used as the database management system.
The API helps to realize sending emails at the scheduled time with the scheduled text.
# Techonology Stack
- Python 3.11;
- FastAPI;
- SQLAlchemy;
- Pydantic;
- HTTPX;
# How to use it
### Clone repository
Firstly, the project should be cloned using the following command in the console:
```bash
git clone https://github.com/Temka0994/email-notification-api.git
```
After this navigate to the email-notification-api folder:
```bash
cd notificationAPI
```

### Requirements
Additionally, all the requirements should be downloaded using the following command:
```bash
pip install -r requirements.txt
```

### Email token
You also need to prepare the mail from which the letters will be sent. You can read how to do this at this [link](https://support.google.com/accounts/answer/185833?hl=en)
In [properties.py](./src/properties.py). you need to insert:
- the mail from which the emails will be sent;
- password from this mail, which is generated by the link mentioned earlier;
- host (you can use ```smtp.gmail.com```);
- port (you can use ```587```);

### Secret token
Of course, in order to take advantage of the JWT Token, you need to enter your key, which will be used to validate the token. You must enter it in the file [properties.py](./src/properties.py).

### Database
The ready-made code for creating and populating the database from the [schema.sql](./src/schema.sql) file can be used, or a custom script may be created. The attached file contains queries for both table creation and data insertion. The database will appear as follows:

![image](https://github.com/user-attachments/assets/895df1af-9899-4560-aefc-309a14336b80)

The next step is to change the database path. This should be done by opening the [database.py](./src/database.py) file and inserting the desired path into the `DATABASE_URL` field.

### Work with scheduler
Once the database is created and all the data is customized for you, you need to run scheduler-api (You can read how to configure it to work [here](https://github.com/Temka0994/scheduler-api/blob/main/README.md)).

### Final step
Firstly, you need to run the Scheduler application with the command:
```bash 
uvicorn src.main:app --reload --port 8001
```
And only after this, you need to run the application with the command:
```bash 
uvicorn src.main:app --reload --port 8000
``` 

You can now go to `http://127.0.0.1:8000/docs` where you will see the documentation generated by OpenAPI. Here you can also use ready-made methods.
